# 📧 Customer.io Campaigns - AXSOL Viewer (CORREGIDO)

**Guía corregida basada en eventos IMPLEMENTADOS únicamente**

**Stack:** PostHog → Segment → Customer.io  
**Eventos base:** Solo eventos ✅ **IMPLEMENTADOS** del `0.ANALYTICS_EVENTS_CATALOG.md`

---

## ✅ **Eventos Implementados Disponibles**

**Core Events que SÍ podemos usar:**
- ✅ `user_signed_up` - Usuario se registra
- ✅ `user_logged_in` - Usuario inicia sesión  
- ✅ `viewer_loaded` - Usuario carga el visor 3D
- ✅ `viewer_load_failed` - Error al cargar Cesium
- ✅ `entity_clicked` - Click en entidad 3D
- ✅ `camera_moved` - Navegación y exploración
- ✅ `camera_zoomed` - Zoom específico
- ✅ `camera_session_ended` - Fin de sesión de navegación
- ✅ `home_view_activated` - Click botón Home
- ✅ `timeline_playback_control` - Play/Pause timeline
- ✅ `timeline_play_session` - Fin de reproducción
- ✅ `timeline_speed_changed` - Cambio de velocidad
- ✅ `timeline_date_jumped` - Salto a fecha
- ✅ `timeline_loop_toggled` - Activar/desactivar bucle
- ✅ `layer_toggled` - Activación de capas
- ✅ `capture_date_changed` - Cambio de fecha de captura
- ✅ `media_lightbox_opened` - Abrir lightbox de fotos

---

## 🎯 Campaign 1: Welcome Series (IMPLEMENTABLE)

### 📧 Email 1: Bienvenida (Inmediato)

**Trigger en Customer.io:**
- Event: `user_signed_up` ✅ **IMPLEMENTADO**
- Filter: First occurrence
- Send: Immediately

**Email Body:**
```
Hola {{first_name}},

¡Bienvenido a AXSOL Viewer! 👋

Estamos emocionados de que te hayas registrado. 
AXSOL Viewer es la forma más poderosa de visualizar 
el progreso de tus obras en tiempo real.

🎯 PRIMEROS PASOS:

1. Inicia sesión en tu cuenta
2. Abre tu primer proyecto
3. Navega en 3D → Haz clic y arrastra para explorar

[CTA PRINCIPAL]
→ Iniciar sesión ahora
{{login_url}}

💡 CONSEJO RÁPIDO:
Una vez dentro, presiona el botón 🏠 (Home) para volver 
a la vista inicial de tu proyecto.

Saludos,
El equipo de AXSOL
```

---

### 📧 Email 2: Primer Uso del Visor (Día 2)

**Trigger en Customer.io:**
- Event: `viewer_loaded` ✅ **IMPLEMENTADO**
- Filter: First occurrence + 2 days delay
- Condition: User has logged in at least once

**Subject:** "¡Genial! Ya exploraste tu primer proyecto 🚀"

**Email Body:**
```
Hola {{first_name}},

¡Felicitaciones! Vimos que ya abriste el visor 3D.
Ahora te mostramos cómo sacarle el máximo provecho:

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎬 TIMELINE - VE EL PROGRESO COMO UN VIDEO

Reproduce la construcción como un timelapse:
- Busca los controles ⏯️ en la parte inferior
- Presiona Play para ver la evolución
- Ajusta la velocidad a tu gusto

[Ver mi proyecto en timeline →]
{{project_viewer_url}}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📸 CAPAS - COMPARA DIFERENTES VISTAS

Activa diferentes capas para comparar:
- Realidad 3D vs Fotos vs Planos
- Cambia fechas para ver el progreso
- Panel de capas en el lado derecho

[Explorar capas →]
{{project_viewer_url}}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 TIP PRO:
Haz clic en cualquier elemento del modelo 3D 
para ver información detallada.

Saludos,
El equipo de AXSOL
```

---

### 📧 Email 3: Usuario Activo (Día 7)

**Trigger en Customer.io:**
- Event count: `camera_moved` >= 10 ✅ **IMPLEMENTADO**
- Time: 7 days after first `viewer_loaded`
- Condition: User is actively navigating

**Subject:** "{{first_name}}, estás dominando AXSOL 🎓"

**Email Body:**
```
Hola {{first_name}},

¡Increíble! Hemos detectado que has estado navegando 
activamente por tu proyecto. Eso te pone en el top 20% 
de usuarios más comprometidos.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚡ SHORTCUTS DE NAVEGACIÓN

🏠 Botón Home → Volver a vista inicial
⏯️ Timeline → Reproducir progreso
🔍 Scroll → Zoom in/out
🎯 Doble click → Enfocar elemento

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔗 COMPARTE CON TU EQUIPO

Genera links para que otros vean tu proyecto:
- Sin necesidad de login para ellos
- Vista específica guardada
- Perfecto para presentaciones

[Crear link para compartir →]
{{project_viewer_url}}?action=share

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 PRÓXIMAMENTE:
Nuevas features en desarrollo basadas en tu feedback.
¿Qué te gustaría ver?

[Déjanos tu opinión →]
{{feedback_form_url}}

Saludos,
El equipo de AXSOL
```

---

## 🎯 Campaign 2: Feature Discovery (IMPLEMENTABLE)

### 📧 Campaign 2A: Timeline No Usado

**Trigger en Customer.io:**
- Event count: `viewer_loaded` >= 3 ✅ **IMPLEMENTADO**
- Event absence: `timeline_playback_control` NOT exists ✅ **IMPLEMENTADO**
- User age: >= 7 days

**Subject:** "{{first_name}}, hay una feature que no has descubierto 🎬"

**Email Body:**
```
Hola {{first_name}},

Hemos notado que has visitado tu proyecto {{viewer_count}} veces.
¡Genial! Pero hay algo increíble que quizás no has probado...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎬 EL TIMELINE - TU OBRA EN MODO PELÍCULA

Imagina esto:
Presionas ▶️ Play y ves tu construcción avanzar como un timelapse.

✅ Perfecto para:
- Presentaciones a clientes (WOW factor garantizado)
- Detectar retrasos visualmente
- Crear videos de progreso

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 CÓMO USARLO:

1. Abre tu proyecto
2. Busca los controles ⏯️ en la parte inferior
3. Presiona Play
4. Ajusta la velocidad

[CTA PRINCIPAL]
→ Probar el Timeline ahora
{{project_viewer_url}}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Saludos,
El equipo de AXSOL

P.D. El 89% de usuarios que prueban el Timeline 
lo usan semanalmente. Es ADICTIVO. 🎯
```

---

### 📧 Campaign 2B: Capas No Usadas

**Trigger en Customer.io:**
- Event count: `viewer_loaded` >= 3 ✅ **IMPLEMENTADO**
- Event absence: `layer_toggled` NOT exists ✅ **IMPLEMENTADO**
- User age: >= 3 days

**Subject:** "Estás viendo solo el 20% de tu proyecto 🗺️"

**Email Body:**
```
Hola {{first_name}},

Pregunta rápida: ¿Has explorado el Panel de Capas?

La mayoría de usuarios no lo hacen al principio.
Pero cuando lo descubren... 🤯

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🗺️ CAPAS - TU PROYECTO EN MODO RAYOS X

Tu proyecto tiene múltiples capas:
✅ Realidad 3D (nube de puntos)
✅ Fotos aéreas y terrestres
✅ Planos de actividades

Todas superpuestas. Todas comparables.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 CASOS DE USO:

🔍 Control de Calidad
Activa diferentes capas para comparar

📅 Progreso vs Planificado
Cambia fechas para ver evolución

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[CTA PRINCIPAL]
→ Explorar capas ahora
{{project_viewer_url}}

🎯 TIP PRO:
Puedes activar/desactivar capas con un click.
Prueba diferentes combinaciones.

Saludos,
El equipo de AXSOL
```

---

## 🎯 Campaign 3: Re-engagement (IMPLEMENTABLE)

### 📧 Campaign 3A: 7 Días Inactivo

**Trigger en Customer.io:**
- Last event: `user_logged_in` was 7 days ago ✅ **IMPLEMENTADO**
- Previous activity: `viewer_loaded` count >= 3
- Send: When condition met

**Subject:** "{{first_name}}, te extrañamos 👋"

**Email Body:**
```
Hola {{first_name}},

Hace una semana que no te vemos por AXSOL Viewer.
¿Todo bien?

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 ¿QUÉ HAY DE NUEVO?

✨ Mejoras recientes:
- Timeline más fluido y rápido
- Mejor navegación de cámara
- Optimizaciones de performance

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[CTA PRINCIPAL]
→ Ver mi proyecto
{{project_viewer_url}}

¿Tienes problemas técnicos? 
Responde este email y te ayudamos.

Saludos,
El equipo de AXSOL
```

---

## 📊 Métricas de Éxito (Realistas)

| Campaign | Evento Base | Target Open | Target CTR | Success Metric |
|----------|-------------|-------------|------------|----------------|
| Welcome 1 | `user_signed_up` | >40% | >25% | >50% hacen login |
| Welcome 2 | `viewer_loaded` | >35% | >20% | >30% usan timeline o capas |
| Welcome 3 | `camera_moved` | >30% | >15% | >20% engagement |
| Timeline Discovery | `viewer_loaded` sin `timeline_playback_control` | >25% | >15% | >10% usan timeline |
| Layers Discovery | `viewer_loaded` sin `layer_toggled` | >25% | >12% | >8% activan capas |
| Re-engagement | `user_logged_in` ausente | >15% | >8% | >5% regresan |

---

## ⚙️ Configuración en Customer.io

### **Segments Implementables:**

```yaml
new_users:
  condition: user_signed_up within last 7 days
  
active_users:
  condition: user_logged_in within last 7 days
  
viewer_users:
  condition: viewer_loaded count >= 1
  
navigation_users:
  condition: camera_moved count >= 5
  
timeline_users:
  condition: timeline_playback_control exists
  
layers_users:
  condition: layer_toggled exists
  
at_risk_users:
  condition: 
    - user_logged_in between 7-30 days ago
    - viewer_loaded count >= 3
```

### **Exit Conditions:**
- ✅ Usuario usa la feature → Salir del campaign
- ✅ Usuario hace unsubscribe → Salir
- ⏰ Después de 1 envío → No re-enviar

---

## 🚨 **IMPORTANTE: Eventos NO Disponibles**

❌ **NO usar estos eventos** (están pendientes de implementación):
- `photo360_viewer` → Usar `media_lightbox_opened` en su lugar
- `model_inspected` → No existe
- `viewer_error` → Usar `viewer_load_failed`
- `project_clicked` → Pendiente
- `measurement_created` → Pendiente
- `ai_assistant_opened` → Pendiente

---

## 🎯 Próximos Pasos IMPLEMENTABLES

1. ✅ **Configurar Customer.io** con eventos implementados
2. ✅ **Crear Welcome Series** (3 emails)
3. ✅ **Crear Feature Discovery** (2 campaigns)
4. ✅ **Crear Re-engagement** (1 campaign)
5. ✅ **Testing** en desarrollo
6. ✅ **Launch gradual** (10% → 100%)

---

**📊 Estado:** ✅ **IMPLEMENTABLE** - Basado solo en eventos activos
